(discussion)=
# Discussion and Future developments

In this chapter we presented the methodology that was developed to fit empirical magnetopause models to the structured integrated images of the LaTeP model. We also characterized its accuracy for a full summer orbit, using two proposed metrics: the simulation to image projection RMSE and the maximum intensity arc to image projection RMSE. We performed this analysis using the Shue magnetopause model for simplicity. 

Full characterization of the method would require the correlation of these results with the orbital elements of the satellite, since the orbit is not finalized. To do this we shall run full year orbits as we did in {ref}`tangent_results` and correlate the RMSE with the satellite position and the seasonality. Under the scope of facilitating the analysis of multiple orbits, the fitting scheme, as well as the projection of the surfaces shall be optimized. 

The smooth behavior of the parameter space allows for the deployment of methods such as stochastic descend (ascend in our case) to find the global maximum, without the need to calculate each projection of the parameter space. A plethora of fitting schemes can be utilized, due to this continuous behavior, and we shall not restrict ourselves to the one mentioned above. The projection itself is relatively costly in terms of computational time, since it is being performed as many times as the resolution of the parameter grid. We shall therefore look into comparing the numerical with the semi-analytical approach, as well as building a 3D numerical solver instead of simply using a mask to find the tangent points. Finally, as of now, we compute the full tangent curve and then limit it to the FOV. It would be useful to try building the grid of the magnetopause only in the space inside the FOV, although this may prove to be complicated using spherical coordinates. A solution could be to build a grid directly from the FOV cone of the instrument, however this would result in a 3D grid, when currently the spherical grid needs only two parameters since r is a function of $\theta$ and $\phi$.

Having optimized the code, further tests shall be performed to derive the accumulated error from the tangent hypothesis and the fitting process. Such tests could be benchmarking the fitted curve to the magnetopause extracted from the simulation cube. More sophisticated models that can capture the cusp indentation, as well as asymmetries, shall also be implemented to test the limits of the parameters that can be fitted using information from a single image. Finally, full characterization of the method can be performed by having a representative surface - not only for the benchmarking but for the fitting itself. In this light, parametrizing the simulation magnetopause surface and using it to fit the maximum intensity arcs, would allow for a complete characterization of the method in its static case. Of course, this implicates the definition problems that we faced in {ref}`tangent_results` and the limits of each detection method should be taken into account.

We have shown that depending on the geometry, the method can be utilized to derive useful information about the magnetopause and its response to the solar wind. Depending on the performance of other techniques, it can be also utilized to provide initial parameters to BFA methods that require good initial parameter estimation. In contrary to these techniques however, it has no dependency to the simulation itself, and can therefore independently characterize existing empirical models. A combination of such methods will result to the maximum scientific output. Further work on the characterization of these methods will be essential to determine the optimal operations and science plan for the SMILE mission.
